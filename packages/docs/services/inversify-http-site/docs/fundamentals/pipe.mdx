---
sidebar_position: 4
title: Pipe
---
import pipeApiParseNumberSource from '@inversifyjs/http-code-examples/generated/examples/v0/pipeApiParseNumber.ts.txt';
import CodeBlock from '@theme/CodeBlock';

# Pipe

Pipes transform or validate individual parameters. They run right after a parameter is extracted (e.g., from query, params, headers, cookies, or body). A pipe can return a new value to replace the parameter, or throw an `ErrorHttpResponse` to short-circuit the request.

Key points

- Implement the `Pipe<TIn, TOut>` interface: `execute(input, metadata)` and return the transformed value
- Throw an `ErrorHttpResponse` (e.g., `BadRequestHttpResponse`) to send an error immediately
- Attach pipes directly in parameter decorators: `@Query('v', MyPipe)` or `@Params('id', new MyPipe())`

## Example: Parse number with validation

A simple pipe that parses the input into a number and rejects invalid values with a `400 Bad Request`.

<CodeBlock language="ts">{pipeApiParseNumberSource}</CodeBlock>

## Attaching pipes

Use parameter decorators to attach pipes where needed: `Body`, `Params`, `Query`, `Headers`, `Cookies`, `Request`, and `Response` all accept pipes.

- Named parameter: `@Params('id', ParseNumberPipe) id: number`
- Whole object: `@Query(ParseNumberPipe) query: QueryObject`

The adapter will apply global and parameter-level pipes in order before calling your controller method.
